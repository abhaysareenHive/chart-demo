<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>TradingView Chart with Price Line</title>
</head>
<body>
  <h1>My Chart with Price Line</h1>

  <!-- Chart container for overlay -->
  <div class="chart-container" style="position: relative; width: 600px; height: 400px;">
    <div id="tradingview_chart" style="width: 100%; height: 100%;"></div>

    <!-- Horizontal line at $240 -->
    <div id="price-line" style="
         position: absolute;
         left: 0px;
         width: 100%;
         height: 2px;
         background-color: green;
         opacity: 0.7;"></div>
  </div>

  <!-- TradingView Widget JS -->
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script type="text/javascript">
    // Create chart
    new TradingView.widget({
      "width": 600,
      "height": 400,
      "symbol": "NASDAQ:AAPL",
      "interval": "D",
      "timezone": "Etc/UTC",
      "theme": "light",
      "style": "1",
      "locale": "en",
      "toolbar_bg": "#f1f3f6",
      "enable_publishing": false,
      "withdateranges": true,
      "hide_side_toolbar": false,
      "allow_symbol_change": true,
      "container_id": "tradingview_chart"
    });

    // -----------------------------
    // Lock horizontal line to $240
    // -----------------------------
    const chartHeight = 400;  // px, same as container
    const minPrice = 230;     // example current visible min price
    const maxPrice = 250;     // example current visible max price
    const targetPrice = 240;  // the price we want the line at

    const bottomPx = ((targetPrice - minPrice) / (maxPrice - minPrice)) * chartHeight;

    const line = document.getElementById('price-line');
    line.style.bottom = bottomPx + 'px';
  </script>
</body>
</html>
